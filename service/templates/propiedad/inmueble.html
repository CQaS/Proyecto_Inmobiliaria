{% extends 'layouts/base00.html' %}

{% load static %}

{% block content %}

<div id="overlay"></div>
<style>
    #map {
        width: 100%;
        height: 400px;
    }
     .containerCarrusel {
     position: absolute;
     left: 50%;
     top: 50%;
     transform: translate(-50%, -50%);
     width: 1000px;
     height: 400px;
     padding: 50px;
     background-color: #f5f5f5;
     box-shadow: 0 30px 50px #dbdbdb;
     }

     #slide {
     width: max-contentCarrusel;
     margin-top: 50px;
     }

     .itemCarrusel {
     width: 200px;
     height: 300px;
     background-position: 50% 50%;
     display: inline-block;
     transition: 0.5s;
     background-size: cover;
     position: absolute;
     z-index: 1;
     top: 50%;
     transform: translate(0, -50%);
     border-radius: 20px;
     box-shadow: 0 30px 50px #505050;
     }

     .itemCarrusel:nth-child(1),
     .itemCarrusel:nth-child(2) {
     left: 0;
     top: 0;
     transform: translate(0, 0);
     border-radius: 0;
     width: 100%;
     height: 100%;
     box-shadow: none;
     }

     .itemCarrusel:nth-child(3) {
     left: 70%;
     }

     .itemCarrusel:nth-child(4) {
     left: calc(50% + 220px);
     }

     .itemCarrusel:nth-child(5) {
     left: calc(50% + 440px);
     }

     .itemCarrusel:nth-child(n+6) {
     left: calc(50% + 660px);
     opacity: 0;
     }

     .itemCarrusel button {
     padding: 10px 20px;
     border: none;
     opacity: 0;
     }

     .buttons {
     position: absolute;
     bottom: 30px;
     z-index: 222222;
     text-align: center;
     width: 150%;
     }

     .buttons button {
     width: 50px;
     height: 50px;
     border-radius: 50%;
     border: 1px solid #555;
     transition: 0.5s;
     }

     .buttons button:hover {
     cursor: pointer;
     background-color: #bac383;
     }
</style>
{% for D in detalle %}


<div class="box">
    <div class="dir">
        <p class="contratar">{{  D.dir_inmueble  }} 
            {% if user.is_authenticated %} 
                | <a href="{% url 'contrato_idInmueble' D.id_inmueble %}">Contratar</a>
                | <a href="{% url 'editar_propiedad' D.id_inmueble %}">Edit <i class='fa-solid fa-pencil'></i></a>
            {% endif %}
        </p>
        
        
    </div>

    <div class="operacion">
        <p>{{ D.tipo_operacion }}</p>
    </div>

    <div class="valor">
        <p>R$ {{ D.valor_inmueble }}</p>
    </div>

    <div class="carrusel">
        <!-- <div class="atras botones">&#60;</div>
        <div class="adelante botones">&#62;</div> -->
        <!-- como resolver el link de las imagenes -->
        <!-- <img src="" alt="" class="carruselImagen"> -->

        <div class="containerCarrusel">
            <div id="slide">
                {% for p in fotos %}
                <div class="itemCarrusel" style="background-image: url({{ p }});">
                </div>
                {% endfor %}
            </div>
            <div class="buttons">
                <!-- <button id="prev"><i class="fa-solid fa-angle-left"></i></button> -->
                <button id="next"><i class="fa-solid fa-angle-right"></i></button>
            </div>
        </div>
    </div>


    <div class="info-basica">
        <h3>INFORMAÇÃO BASICA</h3>
        <hr class="hr_detalle">
        <!-- va una table 2 columnas x 4 filas -->
        <label for="">Cidade: {{ D.ciudad_inmueble }}</label>
        <label for="">Tipo Imóvel: {{ D.tipo_inmueble }}</label>
        <label for="">Quantidade Plantas: {{ D.cant_plantas }}</label>
        <label for="">Quantidade Quartos: {{ D.cant_dormitorios }}</label>
        <label for="">Cantidad Banheiros: {{ D.cant_banos }}</label>
    </div>

    <div class="sup-medidas">
        <h3>SUPERFICIES E ADICIONAIS</h3>
        <hr class="hr_detalle">

        <label for="">Sup. Total: {{ D.sup_total }}</label>
        <label for="">Sup. Coberta: {{ D.sup_cubierta }}</label>
        <label for="">Sup. Semicoberta: {{ D.sup_semicub}}</label>
        <label for="">Garagem: {% if D.cochera %}SI{% else %}NO{% endif %}</label>
        <label for="">Expensas: {% if D.expensas %}SI{% else %}NO{% endif %}</label>
    </div>


    <div class="descripcion">
        <h3>DESCRIPÇÃO</h3>
        <hr class="hr_detalle">
        <p>{{ D.descripcion }}</p>
    </div>

    <div class="servicios">
        <h3>SERVIÇOS</h3>
        <hr class="hr_detalle">
        <label for=""> {{ D.tipo_servicio }} </label>

    </div>


    <div class="mapa">
        <h3>LOCALIZAÇÃO</h3>
        <hr class="hr_detalle"><br>
        <p id="location-info"></p>

        <div id="map_container" style="width: 100%;">
            <div id="map" style="width: 800px; height: 400px; margin-left: 10%;">
            </div>
            <div id="loading-spinner" class="loading-spinner"></div>
        </div>
    </div>
    
</div>


<script>
    let inmueble_html = true
    let pictures = {{ fotos|safe }}
    let direccion = '{{ D.dir_inmueble }}';
    let ciudad = '{{ D.ciudad_inmueble }}';
</script>



{% endfor %}
{% endblock%}